# ğŸŒ blog-backend

## ğŸ“Œ 1. í”„ë¡œì íŠ¸ ì†Œê°œ

<img width="784" alt="image" src="https://github.com/user-attachments/assets/90096d57-f545-4f68-bc6e-60af2180089b" />

![image](https://github.com/user-attachments/assets/f0fbd81f-3fd8-4959-9d28-46372a7a727d)

#### í”„ë¡œì íŠ¸ ì£¼ì œ ì„ ì • ë°°ê²½

í•™ë¶€ ì‹œì ˆ ì—¬ëŸ¬ íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆì§€ë§Œ, ì‹¤ì§ˆì ìœ¼ë¡œ ìš´ì˜ ë° ìœ ì§€ ë³´ìˆ˜í•œ ê²½í—˜ì€ ì—†ì—ˆìŠµë‹ˆë‹¤.

ë‹¤ì–‘í•œ ì•„ì´ë””ì–´ë¥¼ ê³ ë¯¼í•œ ëì—, ê¸°ëŠ¥ì„ ììœ ë¡­ê²Œ í™•ì¥í•˜ê³  ìˆ˜ì •í•˜ë©° **ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•  ìˆ˜ ìˆëŠ” ë¸”ë¡œê·¸ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œ**í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.

#### ê°œë°œ ì£¼ìš”ì‚¬í•­

- **ì‚¬ìš©ì ì¸ì¦:** JWT, Google OAuth 2.0, RBAC(Role-Based Access Control)
- **CRUD ê¸°ëŠ¥ êµ¬í˜„:** ë¸”ë¡œê·¸ ì„œë¹„ìŠ¤ ê´€ë ¨ API ê°œë°œ ë° ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€
- **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±:** Unit, Integration, E2E í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- **í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ:** ì„œë²„ ì—°ë™ ë° SEO ìµœì í™” ì ìš©
- **ë¼ì¦ˆë² ë¦¬íŒŒì´ ì›¹ ì„œë²„ ì„¤ì •**

#### í”„ë¡œì íŠ¸ ê´€ë ¨ ë§í¬

- [í”„ë¡œì íŠ¸ ë°°í¬ ë§í¬](https://jongdeug.ddns.net)
- [â­Trouble Shooting ê¸°ë¡â­](https://github.com/users/JongDeug/projects/9/views/3)
- [ê¸°ëŠ¥ ê°œë°œ ê¸°ë¡](https://github.com/users/JongDeug/projects/9/views/1)
- [Swagger ë°°í¬ ì£¼ì†Œ](https://jongdeug.ddns.net/api/nest/docs)
- [í”„ë¡ íŠ¸ì—”ë“œ ê¹ƒí—ˆë¸Œ](https://github.com/JongDeug/blog-frontend)

## ğŸ“Œ 2. ê¸°ìˆ  ìŠ¤íƒ

![image](https://github.com/user-attachments/assets/e588c142-8ded-483d-a395-e04dcddf56a6)

![image](https://github.com/user-attachments/assets/f9d3e7f1-8fdd-4043-9bf1-29b185e18537)

## ğŸ“Œ 3. ì•„í‚¤í…ì²˜

#### ì „ì²´ì ì¸ ì„œë¹„ìŠ¤ êµ¬ì¡°

![image](https://github.com/user-attachments/assets/231a7d3b-c3fa-434e-8679-b2a7520ef191)

**ì• í”Œë¦¬ì¼€ì´ì…˜ ìºì‹œ vs ë¶„ì‚° ìºì‹œ**

ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¡œë§Œ ì„œë¹„ìŠ¤ë¥¼ ì§„í–‰í•˜ëŠ” ìƒí™©ì´ë¯€ë¡œ ë¶„ì‚° ìºì‹œë¥¼ ë‘ëŠ” ê²ƒì€ ë¶ˆí•„ìš”í•˜ë‹¤ê³  íŒë‹¨í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ìºì‹œë¥¼ ì´ìš©í–ˆìŠµë‹ˆë‹¤.




## ğŸ“Œ 4. API ëª…ì„¸ì„œ

| êµ¬ë¶„             | ê¸°ëŠ¥ëª…                        | HTTP Method | REST API                                   | JWT | ROLE(í•˜ìœ„ ë²”ì£¼) |
| ---------------- | ----------------------------- | ----------- | ------------------------------------------ | --- | --------------- |
| 1. íšŒì› ê´€ë¦¬     | 1.1 ì´ë©”ì¼ ê°€ì…               | POST        | /auth/register                             | X   | ALL             |
|                  | 1.2 ë¡œê·¸ì¸                    | POST        | /auth/login                                | X   | ALL             |
|                  | 1.3 êµ¬ê¸€ OAuth 2.0 ë¡œê·¸ì¸     | GET         | /auth/to-google                            | X   | ALL             |
|                  | 1.4 êµ¬ê¸€ OAuth 2.0 ë¦¬ë‹¤ì´ë ‰íŠ¸ | GET         | /auth/google                               | X   | ALL             |
|                  | 1.5 ë¡œê·¸ì•„ì›ƒ                  | GET         | /auth/logout                               | O   | USER            |
|                  | 1.6 ë¡œê·¸ì¸ ê°±ì‹                | GET         | /auth/token/refresh                        | O   | USER            |
|                  | 1.7 í† í° ë¬´íš¨í™”               | GET         | /auth/token/revoke/:id                     | O   | ADMIN           |
|                  | 1.8 ìœ ì € ëª©ë¡ ì¡°íšŒ            | GET         | /user                                      | O   | ADMIN           |
|                  | 1.9 ìœ ì € ìƒì„¸ ì¡°íšŒ            | GET         | /user/:id                                  | O   | ADMIN           |
|                  | 1.10 ìœ ì € ì‚­ì œ                | DELETE      | /user/:id                                  | O   | ADMIN           |
| 2. ê²Œì‹œê¸€ ê´€ë¦¬   | 2.1 ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ          | GET         | /post?search=&take=&draft=&cursor=&order[] | X   | ALL             |
|                  | 2.2 ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ          | GET         | /post/:id                                  | X   | ALL             |
|                  | 2.3 ê²Œì‹œê¸€ ë“±ë¡               | POST        | /post                                      | O   | ADMIN           |
|                  | 2.4 ê²Œì‹œê¸€ ìˆ˜ì •               | PATCH       | /post/:id                                  | O   | ADMIN           |
|                  | 2.5 ê²Œì‹œê¸€ ì‚­ì œ               | DELETE      | /post/:id                                  | O   | ADMIN           |
|                  | 2.6 ê²Œì‹œê¸€ ì¢‹ì•„ìš”             | POST        | /post/like/:id                             | X   | ALL             |
|                  | 2.7 ì´ë¯¸ì§€ ì—…ë¡œë“œ             | POST        | /common/image                              | O   | ADMIN           |
| 3. ëŒ“ê¸€ ê´€ë¦¬     | 3.1 ëŒ“ê¸€ ì‘ì„±(íšŒì›)           | POST        | /post/comment/user                         | O   | USER            |
|                  | 3.2 ëŒ“ê¸€ ìˆ˜ì •(íšŒì›)           | PATCH       | /post/comment/user/:id                     | O   | USER            |
|                  | 3.3 ëŒ“ê¸€ ì‚­ì œ(íšŒì›)           | DELETE      | /post/comment/user/:id                     | O   | USER            |
|                  | 3.4 ëŒ“ê¸€ ì‘ì„±(ë¹„íšŒì›)         | POST        | /post/comment/guest                        | X   | ALL             |
|                  | 3.5 ëŒ“ê¸€ ìˆ˜ì •(ë¹„íšŒì›)         | PATCH       | /post/comment/guest/:id                    | X   | ALL             |
|                  | 3.6 ëŒ“ê¸€ ì‚­ì œ(ë¹„íšŒì›)         | DELETE      | /post/comment/guest/:id                    | X   | ALL             |
| 4. íƒœê·¸ ê´€ë¦¬     | 4.1 íƒœê·¸ ëª©ë¡ ì¡°íšŒ            | GET         | /tag                                       | X   | ALL             |
|                  | 4.2 íƒœê·¸ ìƒì„¸ ì¡°íšŒ            | GET         | /tag/:id                                   | X   | ALL             |
|                  | 4.3 íƒœê·¸ ìƒì„±                 | POST        | /tag                                       | O   | ADMIN           |
|                  | 4.4 íƒœê·¸ ìˆ˜ì •                 | PATCH       | /tag/:id                                   | O   | ADMIN           |
|                  | 4.5 íƒœê·¸ ì‚­ì œ                 | DELETE      | /tag/:id                                   | O   | ADMIN           |
| 5. ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ | 5.1 ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ        | GET         | /category                                  | X   | ALL             |
|                  | 5.2 ì¹´í…Œê³ ë¦¬ ìƒì„¸ ì¡°íšŒ        | GET         | /category/:id                              | X   | ALL             |
|                  | 5.3 ì¹´í…Œê³ ë¦¬ ìƒì„±             | POST        | /category                                  | O   | ADMIN           |
|                  | 5.4 ì¹´í…Œê³ ë¦¬ ìˆ˜ì •             | PATCH       | /category/:id                              | O   | ADMIN           |
|                  | 5.5 ì¹´í…Œê³ ë¦¬ ì‚­ì œ             | DELETE      | /category/:id                              | O   | ADMIN           |

## ğŸ“Œ 6. ERD ì„¤ê³„

```mermaid
erDiagram
"GuestComment" {
  Int id PK
  String nickName
  String email
  String password
  String guestId FK
}
"Guest" {
  Int id PK
  String guestId UK
}
"Category" {
  Int id PK
  String name UK
  DateTime createdAt
  DateTime updatedAt
}
"Comment" {
  Int id PK
  String content
  DateTime createdAt
  DateTime updatedAt
  Int parentCommentId FK "nullable"
  Int postId FK
  Int authorId FK "nullable"
  Int guestId FK "nullable"
}
"Image" {
  Int id PK
  String url
  Int postId FK
}
"PostLike" {
  Int postId FK
  String guestId FK
  DateTime createdAt
}
"Post" {
  Int id PK
  String title UK
  String content
  DateTime createdAt
  DateTime updatedAt
  Int prevId "nullable"
  Int nextId "nullable"
  Boolean draft
  String summary
  Int views
  Int likes
  Int authorId FK
  Int categoryId FK
}
"Tag" {
  Int id PK
  String name UK
}
"User" {
  Int id PK
  String name
  String email UK
  String password "nullable"
  Role role
  DateTime createdAt
  String providerId UK "nullable"
}
"_PostToTag" {
  String A FK
  String B FK
}
"GuestComment" }o--|| "Guest" : guest
"Comment" }o--o| "Comment" : parentComment
"Comment" }o--|| "Post" : post
"Comment" }o--o| "User" : author
"Comment" |o--o| "GuestComment" : guest
"Image" }o--|| "Post" : post
"PostLike" }o--|| "Post" : post
"PostLike" }o--|| "Guest" : guest
"Post" }o--|| "User" : author
"Post" }o--|| "Category" : category
"_PostToTag" }o--|| "Post" : Post
"_PostToTag" }o--|| "Tag" : Tag
```

## ğŸ“Œ 7. UI
#### ë©”ì¸ í™”ë©´
![ë©”ì¸](https://github.com/user-attachments/assets/90e51c54-c23a-45a3-8c8a-33b26ffd7369)

#### ë¸”ë¡œê·¸ í™”ë©´
![ë¸”ë¡œê·¸](https://github.com/user-attachments/assets/8359b9bf-583d-4eab-b471-742a3a72a4ef)

#### rss êµ¬ë… í™”ë©´
![rss êµ¬ë…](https://github.com/user-attachments/assets/42caad44-c623-4c10-bb5f-03717ba69fe2)

#### ë¡œê·¸ì¸ í™”ë©´
![ë¡œê·¸ì¸](https://github.com/user-attachments/assets/92f4332c-f5cd-4552-b35b-2674a118458c)

#### ê²€ìƒ‰ í™”ë©´
![ê²€ìƒ‰](https://github.com/user-attachments/assets/2d85241f-1c46-41f6-9d9a-66da6f0b1064)

#### ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ í™”ë©´
![ì¹´í…Œê³ ë¦¬ ê´€ë¦¬](https://github.com/user-attachments/assets/121dfa70-6c16-410c-88e3-572ff994cf13)

#### ê²Œì‹œê¸€ ìƒì„¸ í™”ë©´
![ê²Œì‹œê¸€ ìƒì„¸](https://github.com/user-attachments/assets/3de2418e-1fd4-4fa2-b051-ec684d8dc03e)

#### ê²Œì‹œê¸€ ì‘ì„± í™”ë©´
![ê²Œì‹œê¸€ ì‘ì„±](https://github.com/user-attachments/assets/eb132f62-6a9f-4a44-b7d3-45a599f21c67)

#### ê²Œì‹œê¸€ ìˆ˜ì • í™”ë©´
![ê²Œì‹œê¸€ ìˆ˜ì •](https://github.com/user-attachments/assets/f5a546ad-a0ec-4c85-a46c-45edea777d2e)
